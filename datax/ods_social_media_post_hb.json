
{
        "job": {
                "setting": {
                        "speed": {
                                "channel": 3
                        }
                },
                "content": [{
                        "reader": {
                                "name": "mysqlreader",
                                "parameter": {
                                        "column": ["id","pmid","rmid","media_type","web_site","title","mid",
                                                        "abstract","link","ptime","attribute","publisher",
                                                        "publisher_id","author","source_author","subject_term","region",
                                                        "region_tip","read_num","like_num","comment_num","transfer_num",
                                                        "fan_num","similar_num","analytic_word","emotion_word","ip_addr","key_word"],
                                        "password": "${password}",
                                        "username": "${username}",
                                        "where": "date(insert_time)=CURRENT_DATE()",
                                        "connection": [{
                                                "jdbcUrl": ["${jdbcUrl}"],
                                                "table": ["hb_data_new"]
                                              
                  
                                        }]
                                }
                        },
                        "writer": {
                                "name": "hdfswriter",
                                "parameter": {
                                        "column": [{
                                                        "name": "id",
                                                        "type": "string"
                                                },
                                                {
                                                        "name": "pmid",
                                                        "type": "string"
                                                },
                                                {
                                                        "name": "rmid",
                                                        "type": "string"
                                                },
                                                {
                                                        "name": "media_type",
                                                        "type": "string"
                                                },
                                                {
                                                        "name": "web_site",
                                                        "type": "string"
                                                },
                                                {
                                                        "name": "title",
                                                        "type": "string"
                                                },
                                                {
                                                        "name": "mid",
                                                        "type": "string"
                                                },
                                                {
                                                        "name": "abstract",
                                                        "type": "string"
                                                },
                                                {
                                                        "name": "link",
                                                        "type": "string"
                                                },
                                                {
                                                        "name": "ptime",
                                                        "type": "string"
                                                },
                                                {
                                                        "name": "attribute",
                                                        "type": "string"
                                                },
                                                {
                                                        "name": "publisher",
                                                        "type": "string"
                                                },
                                                {
                                                        "name": "publisher_id",
                                                        "type": "string"
                                                },
                                                {
                                                        "name": "author",
                                                        "type": "string"
                                                },
                                                {
                                                        "name": "source_author",
                                                        "type": "string"
                                                },
                                                {
                                                        "name": "subject_term",
                                                        "type": "string"
                                                },
                                                {
                                                        "name": "region",
                                                        "type": "string"
                                                },
                                                {
                                                        "name": "region_tip",
                                                        "type": "string"
                                                },
                                                {
                                                        "name": "read_num",
                                                        "type": "bigint"
                                                }, 
                                                {
                                                        "name": "like_num",
                                                        "type": "bigint"
                                                },
                                                {
                                                        "name": "comment_num",
                                                        "type": "bigint"
                                                },
                                                {
                                                        "name": "transfer_num",
                                                        "type": "bigint"
                                                },
                                                {
                                                        "name": "fan_num",
                                                        "type": "bigint"
                                                },
                                                {
                                                        "name": "similar_num",
                                                        "type": "bigint"
                                                },
                                                {
                                                        "name": "analytic_word",
                                                        "type": "string"
                                                },
                                                {
                                                        "name": "emotion_word",
                                                        "type": "string"
                                                },
                                                {
                                                        "name": "ip_addr",
                                                        "type": "string"
                                                },
                                                {
                                                        "name": "key_word",
                                                        "type": "string"
                                                }

                                        ],
                                        "compress": "snappy",
                                        "hadoopConfig":{
                                            "dfs.nameservices": "mycluster",
                                            "dfs.ha.namenodes.mycluster":"nn1,nn2",
                                            "dfs.namenode.rpc-address.mycluster.nn1" : "ndsc101:8020",
                                            "dfs.namenode.rpc-address.mycluster.nn2" : "ndsc102:8020",
                                            "dfs.client.failover.proxy.provider.mycluster": "org.apache.hadoop.hdfs.server.namenode.ha.ConfiguredFailoverProxyProvider"
                                          },
                 
                                        "defaultFS": "${hdfsPath}",
                                        "fieldDelimiter": "${fieldDelimiter}",
                                        "fileName": "${fileName}",
                                        "fileType": "${fileType}",
                                        "path": "${path}",
                                        "writeMode": "${writeMode}"
                                }
                        }
                }]

        }
}


